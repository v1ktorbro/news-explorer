(this["webpackJsonpnews-explorer"]=this["webpackJsonpnews-explorer"]||[]).push([[0],Array(19).concat([function(e,t,a){},,,function(e,t,a){e.exports=a.p+"static/media/logout_black.0c9616ca.svg"},function(e,t,a){e.exports=a.p+"static/media/logout_white.936d33be.svg"},function(e,t,a){e.exports=a.p+"static/media/kirovgrad.5412e815.jpeg"},,function(e,t,a){e.exports=a(54)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/github_icon.c4960b36.svg"},function(e,t,a){e.exports=a.p+"static/media/facebook_icon.4521f6ae.svg"},function(e,t,a){e.exports=a.p+"static/media/telegram_icon.f22e7129.svg"},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),i=a.n(o),c=a(4),s=(a(31),a(1)),l=(a(32),a(2));a(33);var u=function(e){var t=e.onMain,a=e.children;return r.a.createElement("header",{className:t?"header header_main":"header"},r.a.createElement(c.Link,{to:"/",className:t?"header__logo header__logo_main":"header__logo"},"NewsExplorer"),r.a.createElement("span",{className:t?"header__burger-menu header__burger-menu_main":"header__burger-menu",onClick:function(){var e=document.querySelector(".header_main"),t=document.querySelector(".navigation");e&&(e.classList.toggle("header_state-blind"),t.classList.add("navigation_black-blind")),t.classList.toggle("navigation_open-blind"),document.querySelector(".header__burger-menu").classList.toggle("header__burger-menu_active")}}),a)},m=(a(39),a(22)),_=a.n(m),d=a(23),p=a.n(d),g=r.a.createContext();var f=function(e){var t=e.onMain,a=e.loggedIn,n=e.onLogin,o=e.savedNews,i=e.signOut,s=r.a.useContext(g);return r.a.createElement("nav",{className:"navigation"},r.a.createElement(c.NavLink,{exact:!0,to:"/",className:t?"navigation__link navigation__link_main":"navigation__link",activeClassName:t?"navigation__link_active-main":"navigation__link_active"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),a&&r.a.createElement(c.NavLink,{to:"/saved-news",className:t?"navigation__link navigation__link_main":"navigation__link",activeClassName:t?"navigation__link_active-main":"navigation__link_active"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"),r.a.createElement("button",{type:"button",name:"logout",onClick:a?i:n,className:a&&o?"navigation__btn-logout":"navigation__btn-login"},a?s.name:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f",a&&r.a.createElement("img",{className:"navigation__image-logout",alt:"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 logout",src:o?_.a:p.a})))};a(40),a(41);var h=function(e){var t=e.onSearchNews,a=r.a.useRef(),n=r.a.useState(""),o=Object(s.a)(n,2),i=o[0],c=o[1],l=function(e,t){e.classList.remove("search-form__input_type-error"),t.classList.remove("search-form__input-error_active")};return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),document.querySelector(".search-form__btn-search").disabled=!0,t(i)},noValidate:!0,className:"search-form"},r.a.createElement("input",{ref:a,required:!0,minLength:"3",onBlur:function(e){!function(e){var t=document.querySelector(".search-form"),a=t.querySelector(".search-form__input"),n=t.querySelector("#".concat(a.id,"-error")),r=t.querySelector(".search-form__btn-search");l(a,n),r.classList.remove("search-form__btn-search_inactive"),n.textContent="",a.value=""}()},onChange:function(e){!function(e){var t=document.querySelector(".search-form"),a=t.querySelector(".search-form__input"),n=t.querySelector("#".concat(a.id,"-error")),r=t.querySelector(".search-form__btn-search");c(e.target.value),e.target.validity.valid?(l(a,n),r.classList.remove("search-form__btn-search_inactive"),n.textContent="",r.disabled=!1):(!function(e,t){e.classList.add("search-form__input_type-error"),t.classList.add("search-form__input-error_active")}(a,n),r.classList.add("search-form__btn-search_inactive"),r.disabled=!0),e.target.validity.valueMissing?n.textContent="\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e":n.textContent=a.validationMessage}(e)},type:"text",className:"search-form__input",id:"search-input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043c\u0443 \u043d\u043e\u0432\u043e\u0441\u0442\u0438"}),r.a.createElement("span",{className:"search-form__input-error",id:"search-input-error"}),r.a.createElement("button",{disabled:!0,type:"submit",className:"search-form__btn-search"},"\u0418\u0441\u043a\u0430\u0442\u044c"))};var E=function(e){var t=e.onSearchNews;return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"main",id:"main"},r.a.createElement("h1",{className:"main__title"},"\u0427\u0442\u043e \u0442\u0432\u043e\u0440\u0438\u0442\u0441\u044f \u0432 \u043c\u0438\u0440\u0435?"),r.a.createElement("p",{className:"main__description"},"\u041d\u0430\u0445\u043e\u0434\u0438\u0442\u0435 \u0441\u0430\u043c\u044b\u0435 \u0441\u0432\u0435\u0436\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438 \u043d\u0430 \u043b\u044e\u0431\u0443\u044e \u0442\u0435\u043c\u0443 \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0439\u0442\u0435 \u0432 \u0441\u0432\u043e\u0451\u043c \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435."),r.a.createElement(h,{onSearchNews:t})))},v=(a(42),a(24)),b=a.n(v);var N=function(){return r.a.createElement("section",{className:"about"},r.a.createElement("img",{className:"about__avatar",src:b.a,alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0433\u043e\u0440\u043e\u0434\u0430 \u0411\u0430\u0442\u0443\u043c\u0438"}),r.a.createElement("div",{className:"about__text"},r.a.createElement("h2",{className:"about__title"},"\u041a\u0438\u0440\u043e\u0432\u0433\u0440\u0430\u0434"),r.a.createElement("div",{className:"about__description"},r.a.createElement("p",{className:"about__author"},"\u0414\u043e 1935 \u0433\u043e\u0434\u0430 \u0433\u043e\u0440\u043e\u0434 \u043d\u0430\u0437\u044b\u0432\u0430\u043b\u0441\u044f ",r.a.createElement("em",null,"\u041a\u0430\u043b\u0430\u0442\u0430"),". \u041d\u0430\u0441\u0435\u043b\u0435\u043d\u0438\u0435 \u043e\u043a\u043e\u043b\u043e 30 000 \u0447\u0435\u043b\u043e\u0432\u0435\u043a."),r.a.createElement("p",{className:"about__author"},"\u041c\u043e\u044f \u043c\u0430\u043b\u0430\u044f \u0440\u043e\u0434\u0438\u043d\u0430, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u044f \u0432\u044b\u0440\u043e\u0441 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u043b \u0432\u0441\u0435 \u0446\u0435\u043d\u043d\u044b\u0435 \u043c\u043e\u043c\u0435\u043d\u0442\u044b \u0436\u0438\u0437\u043d\u0438."))))},k=(a(43),a(25)),y=a(44),w=(a(45),a(46));var S=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",{className:"footer__signature"},"\xa9 2022 Supersite, Powered by News API"),r.a.createElement("nav",{className:"footer__links footer__links_string"},r.a.createElement("ul",{className:"footer__list footer__list_string"},r.a.createElement("li",{className:"footer__list-item"},r.a.createElement(k.HashLink,{to:"/#main",className:"footer__link"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")),r.a.createElement("li",{className:"footer__list-item"},r.a.createElement("a",{href:"https://praktikum.yandex.ru/",target:"_blank",rel:"noopener noreferrer",className:"footer__link"},"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c")))),r.a.createElement("nav",{className:"footer__links footer__links_social-icons"},r.a.createElement("ul",{className:"footer__list footer__list_social-icons"},r.a.createElement("li",{className:"footer__list-item"},r.a.createElement("a",{href:"https://github.com/v1ktorbro",target:"_blank",rel:"noopener noreferrer",className:"footer__link"},r.a.createElement("img",{src:y,className:"footer__social-icon footer__social-icon_github",alt:"\u043b\u043e\u0433\u043e \u0433\u0438\u0442\u0445\u0430\u0431\u0430"}))),r.a.createElement("li",{className:"footer__list-item"},r.a.createElement("a",{href:"https://t.me/viktorAbr",target:"_blank",rel:"noopener noreferrer",className:"footer__link"},r.a.createElement("img",{src:w,className:"footer__social-icon footer__social-icon_facebook",alt:"\u043b\u043e\u0433\u043e \u0442\u0435\u043b\u0435\u0433\u0440\u0430\u043c\u043c"}))))))};a(47),a(48);var O=function(e){var t=e.savedCard,a=e.card,n=e.loggedIn,o=e.onArticleSave,i=e.onArticleDelete,c=function(e){return new Intl.DateTimeFormat("ru",{year:"numeric",month:"long",day:"numeric"}).format(new Date(e))},s=function(e){return e.target.querySelector(".news-card__hint-login")};return r.a.createElement("div",{className:"news-card"},r.a.createElement("div",{className:"news-card__block-image"},r.a.createElement("img",{src:t?a.image:a.urlToImage,className:"news-card__image-main",onClick:t?function(){return window.open(a.link)}:function(){return window.open(a.url)},alt:"\u0444\u043e\u0442\u043e \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438"}),t&&r.a.createElement("div",{className:"news-card__keyword-block"},r.a.createElement("span",{className:"news-card__keyword-text"},a.keyword)),r.a.createElement("div",{className:"news-card__btn-block",onMouseEnter:function(e){return function(e){s(e)&&!n&&s(e).classList.remove("news-card__hint-login_closed")}(e)},onMouseLeave:function(e){return function(e){s(e)&&!n&&s(e).classList.add("news-card__hint-login_closed")}(e)}},r.a.createElement("button",{onClick:t?function(){i(a._id)}:function(e){!function(e){n?o(a):e.target.closest(".news-card__btn-block").querySelector(".news-card__hint-login").classList.toggle("news-card__hint-login_closed")}(e)},className:"".concat(t?"news-card__btn-delete":"news-card__btn-bookmark"," ").concat(!t&&a._id&&"news-card__btn-bookmark_active"),"aria-label":"bookmark",type:"button"}),!n&&r.a.createElement("div",{className:"news-card__hint-login news-card__hint-login_closed"},r.a.createElement("span",{className:"news-card__text-hint"},t?"\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445":"\u0412\u043e\u0439\u0434\u0438\u0442\u0435,  \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u0438")))),r.a.createElement("div",{className:"news-card__info-block",onClick:t?function(){return window.open(a.link)}:function(){return window.open(a.url)}},r.a.createElement("span",{className:"news-card__date"},c(t?a.date:a.publishedAt)),r.a.createElement("h3",{className:"news-card__title"},a.title),r.a.createElement("p",{className:"news-card__description"},t?a.text:a.description),r.a.createElement("span",{className:"news-card__source"},t?a.source:a.source.name)))};var L=function(e){var t=e.searchWithError,a=e.cards,n=e.onArticleSave,o=e.loggedIn,i=r.a.useState(3),c=Object(s.a)(i,2),l=c[0],u=c[1];return r.a.createElement("section",{className:"news-card-list"},r.a.createElement("h2",{className:"news-card-list__title"},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430"),t?r.a.createElement("p",{className:"news-card-list__description-error"},"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"news-card-list__cards"},a.slice(0,l).map((function(e,t){return r.a.createElement(O,{key:t,card:e,onArticleSave:n,loggedIn:o})}))),r.a.createElement("button",{type:"button",onClick:function(){var e=document.querySelector(".news-card-list__btn-show-more");u(l+3),a.length<=l+3&&e.classList.add("news-card-list__btn-show-more_closed")},className:"news-card-list__btn-show-more"},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435")))},C=a(11),j=a(10);a(49);var x=function(e){var t=e.cards,a=r.a.useContext(g),n=Object.entries(t.reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(C.a)({},t.keyword.toLowerCase(),(e[t.keyword.toLowerCase()]||0)+1))}),{})).sort((function(e,t){return t[1]-e[1]})).map((function(e){return e[0]})),o=n.splice(0,2).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(", ")+(n.length?n.length>1?" \u0438 ".concat(n.length,"-\u043c \u0434\u0440\u0443\u0433\u0438\u043c"):" \u0438 1-\u043c\u0443 \u0434\u0440\u0443\u0433\u043e\u043c\u0443":"");return r.a.createElement("section",{className:"saved-news-header"},r.a.createElement("span",{className:"saved-news-header__info"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"),r.a.createElement("h2",{className:"saved-news-header__title"},"".concat(a.name,", \u0443 \u0432\u0430\u0441 ").concat(t.length," \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0442\u0435\u0439")),r.a.createElement("span",{className:"saved-news-header__keyword"},"\u041f\u043e \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u043c \u0441\u043b\u043e\u0432\u0430\u043c:",r.a.createElement("span",{className:"saved-news-header__keyword-style"}," ",o)))};a(50);var A=function(e){var t=e.cards,a=e.onArticleDelete,n=e.loggedIn;return r.a.createElement("section",{className:"saved-news"},r.a.createElement("div",{className:"saved-news__cards"},t.map((function(e){return r.a.createElement(O,{savedCard:!0,key:e._id,card:e,onArticleDelete:a,loggedIn:n})}))))};a(19),a(51);var I=function(e){var t=e.name,a=e.children,n=e.title,o=e.isOpen,i=e.onClose,c=e.onSubmit;return document.addEventListener("keydown",(function(e){"Escape"===e.key&&i()})),r.a.createElement("section",{onClick:function(e){e.target.classList.contains("popup-".concat(t))&&i()},className:"popup popup-".concat(t," ").concat(!o&&"popup_closed")},r.a.createElement("form",{onSubmit:c,className:"popup__container"},r.a.createElement("span",{className:"popup__close",onClick:i}),r.a.createElement("h2",{className:"popup__title"},n),a))},D=function(e,t){var a=r.a.useState(e),o=Object(s.a)(a,2),i=o[0],c=o[1],l=r.a.useState(!1),u=Object(s.a)(l,2),m=u[0],_=u[1],d=r.a.useState(""),p=Object(s.a)(d,2),g=p[0],f=p[1],h=function(e,t){var a=r.a.useState(!0),o=Object(s.a)(a,2),i=o[0],c=o[1],l=r.a.useState(!1),u=Object(s.a)(l,2),m=u[0],_=u[1],d=r.a.useState(!1),p=Object(s.a)(d,2),g=p[0],f=p[1],h=r.a.useState(!1),E=Object(s.a)(h,2),v=E[0],b=E[1],N=r.a.useState(!1),k=Object(s.a)(N,2),y=k[0],w=k[1];return Object(n.useEffect)((function(){var a=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;for(var n in t)switch(n){case"minLength":e.length<t[n]?_(!0):_(!1);break;case"isEmpty":c(!e);break;case"maxLength":e.length>t[n]?f(!0):f(!1);break;case"isEmail":a.test(String(e).toLowerCase())?b(!1):b(!0)}}),[e]),Object(n.useEffect)((function(){w(!(i||m||g||v))}),[i,m,g,v]),{isEmpty:i,isMinLengthError:m,isMaxLengthError:g,isEmailError:v,inputValid:y}}(i,t);return Object(j.a)({value:i,onChange:function(e){c(e.target.value),f(e.target.validationMessage)},onBlur:function(){_(!0)},isDirty:m,error:g},h)};var q=function(e){var t=e.isOpen,a=e.onClose,n=e.onRegister,o=e.handleLogin,i=r.a.useRef(),s=r.a.useRef(),l=D("",{isEmpty:!0,minLength:3,isEmail:!0}),u=D("",{isEmpty:!0,minLength:4,maxLength:8});return r.a.createElement(I,{onSubmit:function(e){e.preventDefault(),o({email:i.current.value,password:s.current.value})},title:"\u0412\u0445\u043e\u0434",name:"login",isOpen:t,onClose:a},r.a.createElement("span",{className:"login__signature-input login__signature-input_email"},"Email"),l.isDirty&&l.isEmpty&&r.a.createElement("span",{className:"login__input-error"},"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),l.isDirty&&l.isEmailError&&r.a.createElement("span",{className:"login__input-error"},l.error),r.a.createElement("input",{onChange:function(e){return l.onChange(e)},onBlur:function(e){return l.onBlur(e)},value:l.value,ref:i,type:"email",className:"login__input login__input_email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443"}),r.a.createElement("span",{className:"login__signature-input login__signature-input_password"},"\u041f\u0430\u0440\u043e\u043b\u044c"),u.isDirty&&u.isEmpty&&r.a.createElement("span",{className:"login__input-error"},"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),u.isDirty&&u.isMinLengthError&&r.a.createElement("span",{className:"login__input-error"},u.error),u.isDirty&&u.isMaxLengthError&&r.a.createElement("span",{className:"login__input-error"},"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("input",{onChange:function(e){return u.onChange(e)},onBlur:function(e){return u.onBlur(e)},value:u.value,ref:s,type:"password",required:!0,minLength:"4",className:"login__input login__input_email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),r.a.createElement("button",{type:"submit",disabled:!l.inputValid||!u.inputValid,className:l.inputValid&&u.inputValid?"login__btn-submit login__btn-submit_active":"login__btn-submit"},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement("div",{className:"login__block-link"},r.a.createElement("span",{className:"login__issue"},"\u0438\u043b\u0438",r.a.createElement(c.Link,{to:"/",onClick:n,className:"login__link"}," \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))))};a(52);var M=function(e){var t=e.isOpen,a=e.onClose,n=e.onLogin,o=e.handleRegister,i=r.a.useRef(),s=r.a.useRef(),l=r.a.useRef(),u=D("",{isEmpty:!0,minLength:3,isEmail:!0}),m=D("",{isEmpty:!0,minLength:4,maxLength:8}),_=D("",{isEmpty:!0,minLength:2,maxLength:8});return r.a.createElement(I,{name:"register",onSubmit:function(e){e.preventDefault(),o({email:i.current.value,password:s.current.value,name:l.current.value})},title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",isOpen:t,onClose:a},r.a.createElement("span",{className:"login__signature-input login__signature-input_email"},"Email"),u.isDirty&&u.isEmpty&&r.a.createElement("span",{className:"login__input-error"},"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),u.isDirty&&u.isEmailError&&r.a.createElement("span",{className:"login__input-error"},u.error),r.a.createElement("input",{onChange:function(e){return u.onChange(e)},onBlur:function(e){return u.onBlur(e)},value:u.value,ref:i,type:"email",required:!0,className:"login__input login__input_email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443"}),r.a.createElement("span",{className:"login__signature-input login__signature-input_password"},"\u041f\u0430\u0440\u043e\u043b\u044c"),m.isDirty&&m.isEmpty&&r.a.createElement("span",{className:"login__input-error"},"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),m.isDirty&&m.isMinLengthError&&r.a.createElement("span",{className:"login__input-error"},m.error),m.isDirty&&m.isMaxLengthError&&r.a.createElement("span",{className:"login__input-error"},"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("input",{onChange:function(e){return m.onChange(e)},onBlur:function(e){return m.onBlur(e)},value:m.value,ref:s,type:"password",required:!0,minLength:"4",className:"login__input login__input_email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),r.a.createElement("span",{className:"login__signature-input login__signature-input_name"},"\u0418\u043c\u044f"),_.isDirty&&_.isEmpty&&r.a.createElement("span",{className:"login__input-error"},"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),_.isDirty&&_.isMinLengthError&&r.a.createElement("span",{className:"login__input-error"},_.error),_.isDirty&&_.isMaxLengthError&&r.a.createElement("span",{className:"login__input-error"},"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043e\u0435 \u0438\u043c\u044f"),r.a.createElement("input",{onChange:function(e){return _.onChange(e)},onBlur:function(e){return _.onBlur(e)},value:_.value,ref:l,type:"text",required:!0,minLength:"2",className:"login__input login__input_name",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0435 \u0438\u043c\u044f"}),r.a.createElement("button",{type:"submit",disabled:!u.inputValid||!m.inputValid||!_.inputValid,className:u.inputValid&&m.inputValid&&_.inputValid?"login__btn-submit login__btn-submit_active":"login__btn-submit"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),r.a.createElement("div",{className:"login__block-link"},r.a.createElement("span",{className:"login__issue"},"\u0438\u043b\u0438",r.a.createElement(c.Link,{to:"/",onClick:n,className:"login__link"}," \u0412\u043e\u0439\u0442\u0438"))))};a(53);var T=function(e){var t=e.search,a=e.closed;return r.a.createElement("section",{className:"preloader ".concat(a&&"preloader_closed")},r.a.createElement("span",{className:t?"preloader__circle":"preloader__error-result"}),!t&&r.a.createElement("h2",{className:"preloader__title"},"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),r.a.createElement("span",{className:t?"preloader__description":"preloader__description preloader__description_error-result"},t?"\u0418\u0434\u0435\u0442 \u043f\u043e\u0438\u0441\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439...":"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u043f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e."))},B=a(12),R=a(13),V=new(function(){function e(t){var a=t.url,n=t.apiKey,r=t.headers;Object(B.a)(this,e),this.url=a,this.apiKey=n,this.headers=r}return Object(R.a)(e,[{key:"getResultSearch",value:function(e){var t=new Date;return fetch("".concat(this.url,"?q=").concat(e,"&apiKey=").concat(this.apiKey,"&from=").concat(t.getDate()-7,"&to=").concat(t.getDate(),"&pageSize=100")).then((function(e){return e.json()}))}}]),e}())({url:"https://newsapi.org/v2/everything",apiKey:"93f559ad46574d7a942016b0b7173fd5",headers:{"Content-Type":"application/json"}}),P=new(function(){function e(t){var a=t.url,n=t.headers;Object(B.a)(this,e),this.url=a,this.headers=n}return Object(R.a)(e,[{key:"getSavedArticlesOfUser",value:function(){return this._updateToken(),fetch("".concat(this.url,"/articles"),{method:"GET",headers:this.headers}).then((function(e){return e.json()}))}},{key:"saveArticle",value:function(e){return fetch("".concat(this.url,"/articles"),{method:"POST",headers:this.headers,body:JSON.stringify({keyword:localStorage.getItem("requestOfUser"),title:e.title,text:e.description,date:e.publishedAt,source:e.source.name,link:e.url,image:e.urlToImage})}).then((function(e){return e.json()}))}},{key:"deleteArticle",value:function(e){return fetch("".concat(this.url,"/articles/").concat(e),{method:"DELETE",headers:this.headers})}},{key:"_updateToken",value:function(){var e=localStorage.getItem("token");e&&(localStorage.setItem("token",e),this.headers={Authorization:e,"Content-Type":"application/json"})}}]),e}())({url:"https://newsexplorer.abrosimov.site/api",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});var U=function(e){var t=e.onLogin,a=e.isOpen,n=e.onClose;return r.a.createElement(I,{title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d!",name:"success-register",isOpen:a,onClose:n},r.a.createElement("div",{className:"login__block-link"},r.a.createElement("span",{className:"login__issue"},r.a.createElement(c.Link,{to:"/",onClick:t,className:"login__link"}," \u0412\u043e\u0439\u0442\u0438"))))},J="https://newsexplorer.abrosimov.site/api",z=function(e){return fetch("".concat(J,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()}))};var K=function(e){var t=e.Component,a=e.loggedIn;return r.a.createElement(l.d,null,(function(){return a?t:r.a.createElement(l.c,{to:"/"})}))};var F=function(){var e=r.a.useState(!1),t=Object(s.a)(e,2),a=t[0],n=t[1],o=r.a.useState(!1),i=Object(s.a)(o,2),c=i[0],m=i[1],_=r.a.useState(!1),d=Object(s.a)(_,2),p=d[0],h=d[1],v=r.a.useState(!1),b=Object(s.a)(v,2),k=b[0],y=b[1],w=r.a.useState([]),O=Object(s.a)(w,2),C=O[0],j=O[1],I=r.a.useState([]),D=Object(s.a)(I,2),B=D[0],R=D[1],F=r.a.useState(!1),G=Object(s.a)(F,2),W=G[0],Z=G[1],H=r.a.useState(!1),$=Object(s.a)(H,2),Q=$[0],X=$[1],Y=r.a.useState(!1),ee=Object(s.a)(Y,2),te=ee[0],ae=ee[1],ne=r.a.useState({}),re=Object(s.a)(ne,2),oe=re[0],ie=re[1],ce=r.a.useState(!1),se=Object(s.a)(ce,2),le=se[0],ue=se[1],me=function(){Z(!0),X(!1)},_e=function(){Z(!1),X(!1),ae(!1)},de=function(e){localStorage.setItem("requestOfUser",e),n(!0),h(!1),m(!1),y(!1),V.getResultSearch(e).then((function(e){"ok"===e.status?(n(!1),h(!0),j(e.articles)):(y(!0),n(!1)),0===e.totalResults&&(m(!0),h(!1))})).catch((function(e){console.error(e)}))},pe=function(e,t){var a=e.map((function(e){var a=t.find((function(t){return function(e,t){var a=e.text===t.description,n=e.title===t.title,r=e.source===t.source.name;return a&&n&&r}(t,e)}));return a&&!e._id?e._id=a._id:!a&&e._id&&delete e._id,e}));j(a),localStorage.setItem("articles",JSON.stringify(a))};r.a.useEffect((function(){var e=localStorage.getItem("requestOfUser"),t=JSON.parse(localStorage.getItem("articles")),a=localStorage.getItem("token");!function(){var e=localStorage.getItem("token");e&&z(e).then((function(e){return ie(e),ue(!0)})).catch((function(e){return console.error(e)}))}(),a&&P.getSavedArticlesOfUser().then((function(e){return R(e),pe(t,e)})).catch((function(e){return console.error(e)})),e&&de(e)}),[]);var ge=function(){localStorage.removeItem("token"),ue(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.Provider,{value:oe},r.a.createElement(l.d,{exact:!0,path:"/"},r.a.createElement(q,{isOpen:W,onClose:_e,onRegister:function(){X(!0),Z(!1)},handleLogin:function(e){(function(e){var t=e.email,a=e.password;return fetch("".concat(J,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:t,password:a})}).then((function(e){return 200===e.status?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0430\u0443\u043d\u0442\u0435\u0444\u0438\u043a\u0430\u0446\u0438\u0438, \u0441\u0442\u0430\u0442\u0443\u0441 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: ".concat(e.status)))})).then((function(e){return e.token?(localStorage.setItem("token",e.token),e):Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0442\u043e\u043a\u0435\u043d\u0430, \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438\u0448\u0435\u0434\u0448\u0438\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: ".concat(e)))}))})(e).then((function(e){if(e.token){var t=localStorage.getItem("token");z(t).then((function(e){e&&(ie(e),_e(),ue(!0))})),P.getSavedArticlesOfUser().then((function(e){R(e),pe(C,e)}))}})).catch((function(e){return console.error(e)}))}}),r.a.createElement(M,{isOpen:Q,onClose:_e,onLogin:me,handleRegister:function(e){(function(e){var t=e.email,a=e.password,n=e.name;return fetch("".concat(J,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:t,password:a,name:n})}).then((function(e){return 201===e.status?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438, \u0441\u0442\u0430\u0442\u0443\u0441 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: ".concat(e.status)))}))})(e).then((function(e){e&&(X(!1),ae(!0))})).catch((function(e){return console.error(e)}))}}),te&&r.a.createElement(U,{onClose:_e,onLogin:function(){ae(!1),me()},isOpen:te}),r.a.createElement(u,{onMain:!0},r.a.createElement(f,{onMain:!0,loggedIn:le,onLogin:me,signOut:ge})),r.a.createElement(E,{onSearchNews:de}),a?r.a.createElement(T,{search:!0}):r.a.createElement(T,{closed:!0}),c?r.a.createElement(T,null):r.a.createElement(T,{closed:!0}),p&&r.a.createElement(L,{cards:C,onArticleSave:function(e){P.saveArticle(e).then((function(e){e&&P.getSavedArticlesOfUser().then((function(e){R(e),pe(C,e)}))})).catch((function(e){return console.error(e)}))},loggedIn:le}),k&&r.a.createElement(L,{searchWithError:!0}),r.a.createElement(N,null)),r.a.createElement(K,{path:"/",loggedIn:le,onLogin:me,Component:r.a.createElement(l.d,{path:"/saved-news"},r.a.createElement(u,null,r.a.createElement(f,{loggedIn:le,signOut:ge,savedNews:!0})),r.a.createElement(x,{cards:B}),r.a.createElement(A,{cards:B,onArticleDelete:function(e){P.deleteArticle(e).then((function(e){e&&P.getSavedArticlesOfUser().then((function(e){R(e),pe(C,e)}))})).catch((function(e){return console.error(e)}))},loggedIn:le}))})),r.a.createElement(S,null))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.BrowserRouter,null,r.a.createElement(F,null))),document.getElementById("root"))}]),[[26,1,2]]]);
//# sourceMappingURL=main.25fd8d6f.chunk.js.map